---
export interface HeroProps {
  title: string;
  subtitle: string;
  backgroundImage?: string;
  conferenceDetails: {
    dates: string;
    location: string;
    venue: string;
  };
  callToAction: {
    primary: {
      text: string;
      href: string;
    };
    secondary: {
      text: string;
      href: string;
    };
  };
}

const { title, subtitle, backgroundImage, conferenceDetails, callToAction } = Astro.props;
---

<section 
  id="hero-section"
  class="relative bg-gradient-to-br from-primary-900 via-primary-800 to-accent-900 text-white overflow-hidden"
>
  {backgroundImage && (
    <div class="absolute inset-0 cinematic-bg-container">
      <div 
        class="cinematic-bg-image" 
        style={`background-image: url('${backgroundImage}');`}
      ></div>
    </div>
  )}
  <div class="absolute inset-0 bg-black opacity-30"></div>
  <div class="relative h-full flex items-center justify-center">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
      <div class="text-center">
      <h1 class="text-4xl md:text-6xl lg:text-7xl font-heading font-bold mb-6">
        {title}
      </h1>
      <h2 class="text-xl md:text-2xl lg:text-3xl font-light mb-8">
        {subtitle}
      </h2>
      
      <!-- Conference Details -->
      <div class="bg-white/10 backdrop-blur-md rounded-lg p-4 md:p-6 lg:p-8 mb-6 md:mb-8 max-w-2xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 text-center">
          <div>
            <div class="text-accent-300 text-2xl md:text-3xl font-bold">{conferenceDetails.dates}</div>
            <div class="text-gray-200 text-sm md:text-base">Conference Dates</div>
          </div>
          <div>
            <div class="text-accent-300 text-2xl md:text-3xl font-bold">{conferenceDetails.location}</div>
            <div class="text-gray-200 text-sm md:text-base">{conferenceDetails.venue}</div>
          </div>
        </div>
      </div>

      <!-- Call to Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-3 md:gap-4 justify-center px-4">
        <a href={callToAction.primary.href} class="group bg-accent-600 hover:bg-accent-700 text-white px-8 md:px-10 py-4 rounded-lg font-semibold transition-all duration-200 text-center shadow-lg hover:shadow-xl">
          <span class="flex items-center justify-center">
            {callToAction.primary.text}
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5-5 5M6 12h12"></path>
            </svg>
          </span>
        </a>
        <a href={callToAction.secondary.href} class="group border-2 border-white text-white hover:bg-white hover:text-primary-800 px-8 md:px-10 py-4 rounded-lg font-semibold transition-all duration-200 text-center">
          <span class="flex items-center justify-center">
            {callToAction.secondary.text}
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </span>
        </a>
        <a href="/authors/abstract-submission" class="group bg-white/10 backdrop-blur-sm border border-white/30 text-white hover:bg-white/20 px-8 md:px-10 py-4 rounded-lg font-semibold transition-all duration-200 text-center">
          <span class="flex items-center justify-center">
            Submit Abstract
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </div>
  
  <!-- Decorative background elements -->
  <div class="absolute top-20 left-10 w-72 h-72 bg-accent-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"></div>
  <div class="absolute bottom-20 right-10 w-72 h-72 bg-primary-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"></div>
</section>

<style>
  /* Hero section structure */
  #hero-section {
    min-height: 100vh;
    min-height: 100svh;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
  }
  
  #hero-section > .relative {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem 0;
    position: relative;
    z-index: 10;
  }
  
  /* Cinematic Background Container */
  .cinematic-bg-container {
    width: 100%;
    height: 100%;
  }
  
  /* Cinematic Background Image with proper covering */
  .cinematic-bg-image {
    position: absolute;
    top: 50%;
    left: 50%;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    transform: translate(-50%, -50%) scale(1.2);
    background-repeat: no-repeat;
    background-position: center center;
    background-size: cover;
    animation: cinematicMove 40s ease-in-out infinite;
  }
  
  /* Ensure no gaps on any aspect ratio */
  @media (max-aspect-ratio: 16/9) {
    .cinematic-bg-image {
      transform: translate(-50%, -50%) scale(1.4);
    }
  }
  
  @media (max-aspect-ratio: 4/3) {
    .cinematic-bg-image {
      transform: translate(-50%, -50%) scale(1.6);
    }
  }
  
  @media (max-aspect-ratio: 1/1) {
    .cinematic-bg-image {
      transform: translate(-50%, -50%) scale(1.8);
    }
  }
  
  @media (max-aspect-ratio: 3/4) {
    .cinematic-bg-image {
      transform: translate(-50%, -50%) scale(2.2);
    }
  }
  
  /* Cinematic movement animation */
  @keyframes cinematicMove {
    0% {
      transform: translate(-50%, -50%) scale(1.2);
    }
    25% {
      transform: translate(-48%, -52%) scale(1.25);
    }
    50% {
      transform: translate(-52%, -48%) scale(1.22);
    }
    75% {
      transform: translate(-49%, -51%) scale(1.28);
    }
    100% {
      transform: translate(-50%, -50%) scale(1.2);
    }
  }
  
  /* Adjust animation for different aspect ratios */
  @media (max-aspect-ratio: 16/9) {
    @keyframes cinematicMove {
      0% {
        transform: translate(-50%, -50%) scale(1.4);
      }
      25% {
        transform: translate(-48%, -52%) scale(1.45);
      }
      50% {
        transform: translate(-52%, -48%) scale(1.42);
      }
      75% {
        transform: translate(-49%, -51%) scale(1.48);
      }
      100% {
        transform: translate(-50%, -50%) scale(1.4);
      }
    }
  }
  
  @media (max-aspect-ratio: 1/1) {
    @keyframes cinematicMove {
      0% {
        transform: translate(-50%, -50%) scale(1.8);
      }
      25% {
        transform: translate(-50%, -48%) scale(1.85);
      }
      50% {
        transform: translate(-50%, -52%) scale(1.82);
      }
      75% {
        transform: translate(-50%, -49%) scale(1.88);
      }
      100% {
        transform: translate(-50%, -50%) scale(1.8);
      }
    }
  }
  
  /* Enhanced depth with subtle parallax */
  .cinematic-bg-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 30% 70%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%);
    animation: lightPulse 25s ease-in-out infinite;
  }
  
  @keyframes lightPulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
  }
  
  /* Responsive padding adjustments */
  @media (max-height: 500px) {
    #hero-section > .relative {
      padding: 1rem 0;
    }
  }
  
  /* Ensure content container is properly centered */
  #hero-section .max-w-7xl {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
  }
  
  /* Enhanced button hover effects for cinematic feel */
  .group:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  }
  
  /* Accessibility: Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    .cinematic-bg-image,
    .cinematic-bg-image::after {
      animation: none;
    }
    .cinematic-bg-image {
      transform: translate(-50%, -50%) scale(1.2);
    }
  }
  
  /* Animation delay utility for background elements */
  .animation-delay-2000 {
    animation-delay: 2s;
  }
</style>
