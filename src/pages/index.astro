---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import HeroSection from '../components/HeroSection.astro';
import StatsSection from '../components/StatsSection.astro';
import CountdownSection from '../components/CountdownSection.astro';
import ImportantDatesAboutSection from '../components/ImportantDatesAboutSection.astro';
import ProgramHighlightsSection from '../components/ProgramHighlightsSection.astro';
import CommunitySection from '../components/CommunitySection.astro';
import NewsSection from '../components/NewsSection.astro';
import { homeContent } from '../data/homeContent.ts';
---

<Layout title="IPAC27 - 18th International Particle Accelerator Conference">
  <Navigation />
  
  <HeroSection {...homeContent.hero} />
  
  <StatsSection globalImpact={homeContent.globalImpact} />
  
  <CountdownSection {...homeContent.countdown} />

  <ImportantDatesAboutSection 
    importantDates={homeContent.importantDates} 
    about={homeContent.about} 
  />

  <ProgramHighlightsSection {...homeContent.programHighlights} />

  <CommunitySection {...homeContent.community} />

  <NewsSection {...homeContent.news} />

  <!-- Back to Top Button -->
  <button
    id="back-to-top"
    class="fixed bottom-8 right-8 bg-accent-600/70 hover:bg-accent-600/90 backdrop-blur-sm text-white p-3 rounded-full shadow-md hover:shadow-lg opacity-0 invisible transition-all duration-300 z-50"
    aria-label="Back to top"
  >
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5"></path>
    </svg>
  </button>

  <Footer />
</Layout>

<script>
  // Back to top button functionality
  document.addEventListener('DOMContentLoaded', function() {
    const backToTopButton = document.getElementById('back-to-top');
    
    if (backToTopButton) {
      // Show/hide button based on scroll position
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          backToTopButton.classList.remove('opacity-0', 'invisible');
          backToTopButton.classList.add('opacity-100', 'visible');
        } else {
          backToTopButton.classList.remove('opacity-100', 'visible');
          backToTopButton.classList.add('opacity-0', 'invisible');
        }
      });
      
      // Scroll to top when button is clicked
      backToTopButton.addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }
  });
</script>
